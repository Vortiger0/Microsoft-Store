<!DOCTYPE html>
<html lang="es">

{{> headers }}

<body class="min-h-screen flex flex-col bg-gray-100">

    {{> navbar }}

    <main class="flex-1 flex justify-center items-center px-4 py-10">
        <div class="w-full md:w-2/3 lg:w-1/2 flex flex-col items-center gap-6">

            <form id="form" method="POST" class="w-full flex flex-col items-center gap-6">

                <!-- Imagen de producto -->
                <div class="w-full h-96 rounded-lg shadow-lg bg-cover bg-center relative flex items-end"
                    style="background-image: url('{{item.img}}');">
                </div>

                <!-- Título -->
                <div class="w-full p-4 bg-white rounded-lg shadow-md">
                    <p class="text-2xl font-semibold mb-2">Título: <span
                            class="text-lg font-normal">{{item.titulo}}</span></p>
                    <input type="text" name="titulo" placeholder="Nuevo título..." class="input input-primary w-full" />
                </div>

                <!-- URL -->
                <div class="w-full p-4 bg-white rounded-lg shadow-md">
                    <p class="text-2xl font-semibold mb-2">URL: <span
                            class="text-sm font-normal break-all">{{item.img}}</span></p>
                    <input type="text" name="img" placeholder="Nueva imagen por URL..."
                        class="input input-primary w-full" />
                </div>

                <!-- Botones centrados -->
                <div class="flex gap-4 justify-center mt-4 w-full">
                    <button type="button" id="btnVolver" class="btn btn-outline btn-primary flex-1">Volver</button>
                    <button type="button" id="btnBorrar" class="btn btn-outline btn-error flex-1">Borrar</button>
                    <button type="button" id="btnActualizar"
                        class="btn btn-outline btn-warning flex-1">Actualizar</button>
                </div>

            </form>

            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const form = document.getElementById('form');
                    const btnVolver = document.getElementById('btnVolver');
                    const btnBorrar = document.getElementById('btnBorrar');
                    const btnActualizar = document.getElementById('btnActualizar');
                    const itemId = '{{item.id}}';

                    // Volver
                    btnVolver.addEventListener('click', () => {
                        window.location.href = '/';
                    });

                    // Borrar
                    btnBorrar.addEventListener('click', () => {
                        form.action = `/producto/borrar/${encodeURIComponent(itemId)}`;
                        form.method = 'POST';
                        form.submit();
                    });

                    // Actualizar
                    btnActualizar.addEventListener('click', () => {
                        form.action = `/producto/actualizar/${encodeURIComponent(itemId)}`;
                        form.method = 'POST';
                        form.submit();
                    });
                });
            </script>


        </div>
    </main>

    {{> footer }}

</body>

</html>